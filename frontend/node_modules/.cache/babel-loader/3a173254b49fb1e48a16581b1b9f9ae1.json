{"ast":null,"code":"var _jsxFileName = \"/home/sanyam/PycharmProjects/Personal/Passwords/frontend/src/components/passwords/PasswordForm.js\";\nimport React from \"react\";\nimport { Field, reduxForm, values } from \"redux-form\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport asyncValidate from \"./asyncValidate\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { useEffect, useState } from \"react\";\n\nconst validate = values => {\n  const errors = {};\n  const requiredFields = [\"firstName\", \"lastName\", \"email\", \"password\", \"userName\", \"website\"];\n  requiredFields.forEach(field => {\n    if (!values[field]) {\n      errors[field] = \"Required\";\n    }\n  });\n\n  if (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = \"Invalid email address\";\n  }\n\n  return errors;\n};\n\nconst renderTextField = ({\n  label,\n  input,\n  meta: {\n    touched,\n    invalid,\n    error\n  },\n  ...custom\n}) => /*#__PURE__*/React.createElement(TextField, Object.assign({\n  label: label,\n  placeholder: label,\n  error: touched && invalid,\n  helperText: touched && error\n}, input, custom, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }\n}));\n\nconst renderFromHelper = ({\n  touched,\n  error\n}) => {\n  if (!(touched && error)) {\n    return;\n  } else {\n    return /*#__PURE__*/React.createElement(FormHelperText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 12\n      }\n    }, touched && error);\n  }\n};\n\nconst PasswordForm = props => {\n  const {\n    handleSubmit,\n    pristine,\n    reset,\n    submitting\n  } = props;\n  const [checked, setChecked] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const handleChange = event => {\n    setChecked(!checked);\n    console.log(checked);\n    !checked ? setUsername(email) : setUsername(\"\");\n  };\n\n  const validateAvailable = {\n    isValid: asyncValidate(values),\n    // returns Promise\n    errorMessage: \"Username already saved\",\n    async: true\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"website\",\n    component: renderTextField,\n    label: \"Website\",\n    variant: \"outlined\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"email\",\n    label: \"Email\",\n    variant: \"outlined\",\n    value: email,\n    validators: [\"required\", validateAvailable],\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"userName\",\n    label: \"User Name\",\n    variant: \"outlined\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: checked,\n      value: checked,\n      onChange: handleChange,\n      name: \"checkedUsername\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }),\n    label: \"Same as email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    component: renderTextField,\n    label: \"Password\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    variant: \"outlined\",\n    color: \"secondary\",\n    disabled: pristine || submitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    disabled: pristine || submitting,\n    onClick: reset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, \"Clear Values\")));\n};\n\nexport default reduxForm({\n  form: \"PasswordForm\",\n  // a unique identifier for this form\n  validate,\n  asyncValidate\n})(PasswordForm);","map":{"version":3,"sources":["/home/sanyam/PycharmProjects/Personal/Passwords/frontend/src/components/passwords/PasswordForm.js"],"names":["React","Field","reduxForm","values","TextField","FormHelperText","asyncValidate","FormControlLabel","Checkbox","useEffect","useState","validate","errors","requiredFields","forEach","field","email","test","renderTextField","label","input","meta","touched","invalid","error","custom","renderFromHelper","PasswordForm","props","handleSubmit","pristine","reset","submitting","checked","setChecked","username","setUsername","setEmail","handleChange","event","console","log","validateAvailable","isValid","errorMessage","async","marginBottom","e","target","value","form"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Field, reduxForm, values } from \"redux-form\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport asyncValidate from \"./asyncValidate\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { useEffect, useState } from \"react\";\n\nconst validate = (values) => {\n  const errors = {};\n  const requiredFields = [\n    \"firstName\",\n    \"lastName\",\n    \"email\",\n    \"password\",\n    \"userName\",\n    \"website\",\n  ];\n  requiredFields.forEach((field) => {\n    if (!values[field]) {\n      errors[field] = \"Required\";\n    }\n  });\n  if (\n    values.email &&\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\n  ) {\n    errors.email = \"Invalid email address\";\n  }\n  return errors;\n};\n\nconst renderTextField = ({\n  label,\n  input,\n  meta: { touched, invalid, error },\n  ...custom\n}) => (\n  <TextField\n    label={label}\n    placeholder={label}\n    error={touched && invalid}\n    helperText={touched && error}\n    {...input}\n    {...custom}\n  />\n);\n\nconst renderFromHelper = ({ touched, error }) => {\n  if (!(touched && error)) {\n    return;\n  } else {\n    return <FormHelperText>{touched && error}</FormHelperText>;\n  }\n};\n\nconst PasswordForm = (props) => {\n  const { handleSubmit, pristine, reset, submitting } = props;\n  const [checked, setChecked] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const handleChange = (event) => {\n    setChecked(!checked);\n    console.log(checked);\n    !checked ? setUsername(email) : setUsername(\"\");\n  };\n\n  const validateAvailable = {\n    isValid: asyncValidate(values), // returns Promise\n    errorMessage: \"Username already saved\",\n    async: true,\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div style={{ marginBottom: \"10px\" }}>\n        <Field\n          name=\"website\"\n          component={renderTextField}\n          label=\"Website\"\n          variant=\"outlined\"\n          disabled\n        />\n      </div>\n\n      <div style={{ marginBottom: \"10px\" }}>\n        <TextField\n          name=\"email\"\n          label=\"Email\"\n          variant=\"outlined\"\n          value={email}\n          validators={[\"required\", validateAvailable]}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n      </div>\n\n      <div style={{ marginBottom: \"10px\" }}>\n        <TextField\n          name=\"userName\"\n          label=\"User Name\"\n          variant=\"outlined\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={checked}\n              value={checked}\n              onChange={handleChange}\n              name=\"checkedUsername\"\n              color=\"primary\"\n            />\n          }\n          label=\"Same as email\"\n        />\n      </div>\n\n      <div style={{ marginBottom: \"10px\" }}>\n        <Field\n          name=\"password\"\n          component={renderTextField}\n          label=\"Password\"\n          variant=\"outlined\"\n        />\n      </div>\n\n      <div style={{ marginBottom: \"10px\" }}>\n        <button\n          type=\"submit\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          disabled={pristine || submitting}\n        >\n          Submit\n        </button>\n        <button type=\"button\" disabled={pristine || submitting} onClick={reset}>\n          Clear Values\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default reduxForm({\n  form: \"PasswordForm\", // a unique identifier for this form\n  validate,\n  asyncValidate,\n})(PasswordForm);\n"]},"metadata":{},"sourceType":"module"}